#!/bin/bash

# Script de nettoyage des fichiers deprecated
# Usage: bash scripts/cleanup-deprecated.sh

echo "üßπ Nettoyage des fichiers deprecated..."
echo ""

# Cr√©er un backup avant suppression
BACKUP_DIR="backup-deprecated-$(date +%Y%m%d-%H%M%S)"
mkdir -p "$BACKUP_DIR"

echo "üì¶ Cr√©ation du backup dans: $BACKUP_DIR"
echo ""

# Liste des fichiers √† d√©placer (pas supprimer, juste backup)
FILES_TO_BACKUP=(
  "src/lib/vertex-ai-service.ts"
  "src/lib/apis/stt-service.ts"
)

# Backup des fichiers
for file in "${FILES_TO_BACKUP[@]}"; do
  if [ -f "$file" ]; then
    echo "  ‚úÖ Backup: $file"
    cp "$file" "$BACKUP_DIR/"
  else
    echo "  ‚ö†Ô∏è  Fichier non trouv√©: $file"
  fi
done

echo ""
echo "üìù Fichiers backup√©s dans: $BACKUP_DIR"
echo ""
echo "‚ö†Ô∏è  IMPORTANT:"
echo "   Les anciens fichiers sont toujours pr√©sents."
echo "   Ils ont √©t√© backup√©s dans $BACKUP_DIR"
echo ""
echo "   Pour les supprimer d√©finitivement (apr√®s v√©rification):"
echo "   rm src/lib/vertex-ai-service.ts"
echo "   rm src/lib/apis/stt-service.ts"
echo ""
echo "‚úÖ Nettoyage termin√©!"
